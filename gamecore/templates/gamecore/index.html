{% load static %}
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PICTURE TALK - Human vs AI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Spray+Paint&family=Shrikhand&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'gamecore/css/style.css' %}">
</head>
<body>

    <div class="page-container">
        <header class="header">
            <h1 class="title-main">PICTURE TALK</h1>
            <h2 class="title-sub">Human vs AI</h2>
        </header>

        <main class="main-panel">
            <div class="grid-item play-tip">
                让AI随机生成或从本地上传一张图片作为原图, 然后和AI一起编写提示词进行图像生成。<br>和原图越像越好，去挑战AI吧!
            </div>

            <div class="grid-item original-image-zone">
                <div class="image-display-area">
                    <img id="original-image" src="{% static 'gamecore/images/placeholder.svg' %}" alt="Original Image">
                </div>
                <div class="image-controls">
                    <button id="ai-gen-btn" class="btn btn-ai-gen">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2.75L14.3432 9.65683L21.25 12L14.3432 14.3432L12 21.25L9.65683 14.3432L2.75 12L9.65683 9.65683L12 2.75Z" stroke="white" stroke-width="2" stroke-linejoin="round"/></svg>
                        AI随机生成
                    </button>
                    <button id="upload-btn" class="btn btn-upload">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 16.5V3M12 3L16 7M12 3L8 7M4 16.5H20V21H4V16.5Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        本地上传
                    </button>
                    <input type="file" id="image-upload-input" hidden accept="image/*">
                </div>
            </div>

            <div class="grid-item settings-zone">
                <div class="setting-item">
                    <label>限定提示词语言</label>
                    <div class="toggle-switch">
                        <input type="radio" id="lang-en" name="language" value="en">
                        <label for="lang-en">英文</label>
                        <input type="radio" id="lang-zh" name="language" value="zh" checked>
                        <label for="lang-zh">中文</label>
                    </div>
                </div>
                <div class="setting-item">
                    <label for="char-limit-input">设定提示词最大字符数</label>
                    <div class="number-input">
                        <button id="char-limit-decrement">-</button>
                        <input type="number" id="char-limit-input" value="20" min="1" max="200">
                        <button id="char-limit-increment">+</button>
                    </div>
                </div>
            </div>

            <div class="grid-item card-2-zone">
                <div id="prompt-input-view" class="card-content">
                    <textarea id="player-prompt-input" placeholder="在此处输入你的提示词"></textarea>
                    <div class="char-counter">字数: <span id="char-count">0</span>/<span id="char-max">20</span></div>
                </div>

                <div id="results-view" class="card-content results-content" style="display: none;">
                    <div class="result-half player-result">
                        <div class="similarity-display player-similarity">
                            <p id="player-score"></p>
                        </div>
                        <div class="result-image-container">
                            <img id="player-generated-image" src="" alt="Player's Generated Image">
                        </div>
                        <div class="prompt-display-box">
                            <p id="player-prompt-display"></p>
                        </div>
                    </div>
                    <div class="result-half ai-result">
                        <div class="similarity-display ai-similarity">
                            <p id="ai-score"></p>
                        </div>
                        <div class="result-image-container">
                             <img id="ai-generated-image" src="" alt="AI's Generated Image">
                        </div>
                        <div class="prompt-display-box">
                            <p id="ai-prompt-display"></p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid-item side-actions-zone">
                <button class="btn btn-side-action" id="logout-btn">登出</button>
                <button class="btn btn-side-action" id="history-btn">历史记录</button>
                <button class="btn btn-side-action" id="leaderboard-btn">排行榜</button>
            </div>

            <div class="grid-item main-action-zone">
                 <button class="btn btn-go" id="submit-button">Go!</button>
                 <button class="btn btn-play-again" id="play-again-button" style="display: none;">Play Again!</button>
            </div>

            <div class="grid-item result-banner-zone" id="result-banner" style="display: none;">
                <span id="winner-text"></span>
            </div>

        </main>

        <div class="user-info">
            <span>uid:000001</span>
            <span>user_name playing</span>
        </div>

        <footer class="footer">
            <a href="#">github: xxxxxxxx.git</a>
            <a href="#">contact us: xxxxxxxxxxxx.gmail.com</a>
            <span>license: Apache license</span>
        </footer>
    </div>

    <script src="{% static 'gamecore/js/main.js' %}"></script>
</body>
</html>